{"ast":null,"code":"var _jsxFileName = \"/Users/matthewpugh/Projects/family-context-ui/src/components/Accordion/OpenAllButton.tsx\";\nimport React from 'react';\n\nvar OpenAllButton = function OpenAllButton(props) {\n  var containerElement = document.getElementById(props.containerId);\n  var accordionElements = containerElement === null || containerElement === void 0 ? void 0 : containerElement.getElementsByClassName(\"govuk-accordion__section\");\n  var allOpen = (accordionElements === null || accordionElements === void 0 ? void 0 : accordionElements.length) === props.amountOpen;\n  return React.createElement(\"div\", {\n    className: \"govuk-accordion__controls\",\n    key: allOpen.toString(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"govuk-accordion__open-all\",\n    \"aria-expanded\": allOpen ? 'true' : 'false',\n    onClick: function onClick(event) {\n      return onButtonClick(event, props.containerId);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16\n    },\n    __self: this\n  }, allOpen ? 'Close' : 'Open', \" all\", React.createElement(\"span\", {\n    className: \"govuk-visually-hidden\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, \" sections\")));\n};\n\nvar onButtonClick = function onButtonClick(event, containerId) {\n  var containerElement = document.getElementById(containerId);\n  var accordionElements = (containerElement === null || containerElement === void 0 ? void 0 : containerElement.getElementsByClassName(\"govuk-accordion__section\")) || new HTMLCollection();\n  var expandedAccordionElements = (containerElement === null || containerElement === void 0 ? void 0 : containerElement.getElementsByClassName(\"govuk-accordion__section--expanded\")) || new HTMLCollection();\n  var target = event.currentTarget;\n\n  if (target.getAttribute('aria-expanded') === 'false') {\n    for (var index = 0; index < ((accordionElements === null || accordionElements === void 0 ? void 0 : accordionElements.length) || 0); index++) {\n      if (accordionElements[index].className.search('expanded') === -1) {\n        accordionElements[index].getElementsByClassName('govuk-accordion__section-header')[0].click();\n      }\n    }\n  } else {\n    while (expandedAccordionElements.length !== 0) {\n      expandedAccordionElements[0].getElementsByClassName('govuk-accordion__section-header')[0].click();\n    }\n  }\n};\n\nexport default OpenAllButton;","map":{"version":3,"sources":["/Users/matthewpugh/Projects/family-context-ui/src/components/Accordion/OpenAllButton.tsx"],"names":["React","OpenAllButton","props","containerElement","document","getElementById","containerId","accordionElements","getElementsByClassName","allOpen","length","amountOpen","toString","event","onButtonClick","HTMLCollection","expandedAccordionElements","target","currentTarget","getAttribute","index","className","search","click"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAOA,IAAMC,aAA2C,GAAG,SAA9CA,aAA8C,CAACC,KAAD,EAA+B;AAC/E,MAAIC,gBAAgB,GAAGC,QAAQ,CAACC,cAAT,CAAwBH,KAAK,CAACI,WAA9B,CAAvB;AACA,MAAIC,iBAAiB,GAAGJ,gBAAH,aAAGA,gBAAH,uBAAGA,gBAAgB,CAAEK,sBAAlB,CAAyC,0BAAzC,CAAxB;AAEA,MAAIC,OAAO,GAAI,CAAAF,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEG,MAAnB,MAA8BR,KAAK,CAACS,UAAnD;AAEA,SACI;AAAK,IAAA,SAAS,EAAC,2BAAf;AAA2C,IAAA,GAAG,EAAEF,OAAO,CAACG,QAAR,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,2BAAhC;AAA4D,qBAAeH,OAAO,GAAG,MAAH,GAAY,OAA9F;AAAuG,IAAA,OAAO,EAAE,iBAAAI,KAAK;AAAA,aAAIC,aAAa,CAACD,KAAD,EAAQX,KAAK,CAACI,WAAd,CAAjB;AAAA,KAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKG,OAAO,GAAG,OAAH,GAAa,MADzB,UAEI;AAAM,IAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFJ,CADJ,CADJ;AAQH,CAdD;;AAgBA,IAAMK,aAAa,GAAG,SAAhBA,aAAgB,CAACD,KAAD,EAAyDP,WAAzD,EAAiF;AACnG,MAAIH,gBAAgB,GAAGC,QAAQ,CAACC,cAAT,CAAwBC,WAAxB,CAAvB;AAEA,MAAIC,iBAAiB,GAAG,CAAAJ,gBAAgB,SAAhB,IAAAA,gBAAgB,WAAhB,YAAAA,gBAAgB,CAAEK,sBAAlB,CAAyC,0BAAzC,MAAwE,IAAIO,cAAJ,EAAhG;AACA,MAAIC,yBAAyB,GAAG,CAAAb,gBAAgB,SAAhB,IAAAA,gBAAgB,WAAhB,YAAAA,gBAAgB,CAAEK,sBAAlB,CAAyC,oCAAzC,MAAkF,IAAIO,cAAJ,EAAlH;AAEA,MAAIE,MAAM,GAAGJ,KAAK,CAACK,aAAnB;;AACA,MAAID,MAAM,CAACE,YAAP,CAAoB,eAApB,MAAyC,OAA7C,EAAsD;AAClD,SAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,IAAI,CAAAb,iBAAiB,SAAjB,IAAAA,iBAAiB,WAAjB,YAAAA,iBAAiB,CAAEG,MAAnB,KAA6B,CAAjC,CAAzB,EAA8DU,KAAK,EAAnE,EAAuE;AACnE,UAAIb,iBAAiB,CAACa,KAAD,CAAjB,CAAyBC,SAAzB,CAAmCC,MAAnC,CAA0C,UAA1C,MAA0D,CAAC,CAA/D,EAAkE;AAC7Df,QAAAA,iBAAiB,CAACa,KAAD,CAAjB,CAAyBZ,sBAAzB,CAAgD,iCAAhD,EAAmF,CAAnF,CAAD,CAAuGe,KAAvG;AACH;AACJ;AACJ,GAND,MAMO;AACH,WAAOP,yBAAyB,CAACN,MAA1B,KAAqC,CAA5C,EAA+C;AAC1CM,MAAAA,yBAAyB,CAAC,CAAD,CAAzB,CAA6BR,sBAA7B,CAAoD,iCAApD,EAAuF,CAAvF,CAAD,CAA2Ge,KAA3G;AACH;AACJ;AACJ,CAlBD;;AAoBA,eAAetB,aAAf","sourcesContent":["import React from 'react';\n\ntype OpenAllButtonProps = {\n    containerId: string,\n    amountOpen: number\n}\n\nconst OpenAllButton: React.FC<OpenAllButtonProps> = (props: OpenAllButtonProps) => {\n    var containerElement = document.getElementById(props.containerId);\n    var accordionElements = containerElement?.getElementsByClassName(\"govuk-accordion__section\");\n\n    var allOpen = (accordionElements?.length === props.amountOpen)\n\n    return (\n        <div className=\"govuk-accordion__controls\" key={allOpen.toString()}>\n            <button type=\"button\" className=\"govuk-accordion__open-all\" aria-expanded={allOpen ? 'true' : 'false'} onClick={event => onButtonClick(event, props.containerId)}>\n                {allOpen ? 'Close' : 'Open'} all\n                <span className=\"govuk-visually-hidden\"> sections</span>\n            </button>\n        </div>\n    )\n}\n\nconst onButtonClick = (event: React.MouseEvent<HTMLButtonElement, MouseEvent>, containerId: string) => {\n    var containerElement = document.getElementById(containerId);\n    \n    var accordionElements = containerElement?.getElementsByClassName(\"govuk-accordion__section\") || new HTMLCollection();\n    var expandedAccordionElements = containerElement?.getElementsByClassName(\"govuk-accordion__section--expanded\") || new HTMLCollection();\n\n    var target = event.currentTarget as Element;\n    if (target.getAttribute('aria-expanded') === 'false') {\n        for (let index = 0; index < (accordionElements?.length || 0); index++) {\n            if (accordionElements[index].className.search('expanded') === -1) {\n                (accordionElements[index].getElementsByClassName('govuk-accordion__section-header')[0] as HTMLElement).click()\n            }\n        }\n    } else {\n        while (expandedAccordionElements.length !== 0) {\n            (expandedAccordionElements[0].getElementsByClassName('govuk-accordion__section-header')[0] as HTMLElement).click()\n        }\n    }\n}\n\nexport default OpenAllButton;"]},"metadata":{},"sourceType":"module"}