{"ast":null,"code":"import _objectSpread from \"/Users/matthewpugh/Projects/family-context-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"/Users/matthewpugh/Projects/family-context-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/matthewpugh/Projects/family-context-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/matthewpugh/Projects/family-context-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/matthewpugh/Projects/family-context-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/matthewpugh/Projects/family-context-ui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/matthewpugh/Projects/family-context-ui/src/components/SearchPage/CaseIdSearch.tsx\";\nimport React from \"react\";\nimport { TextInputGroup } from \"../InputGroups\";\nimport { Error } from '../../tools/ConfigurableContent';\n\nvar CaseIdSearch = /*#__PURE__*/function (_React$Component) {\n  _inherits(CaseIdSearch, _React$Component);\n\n  function CaseIdSearch(props) {\n    var _this;\n\n    _classCallCheck(this, CaseIdSearch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CaseIdSearch).call(this, props));\n    _this.state = {\n      caseId: \"\",\n      searching: false,\n      errorMessage: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(CaseIdSearch, [{\n    key: \"search\",\n    value: function search(event) {\n      var _this2 = this;\n\n      event.preventDefault();\n      this.setState(_objectSpread({}, this.state, {\n        searching: true\n      }));\n\n      if (this.state.caseId === \"\") {\n        this.displayError(Error.Search.NoCaseIdEntered);\n      } else {\n        this.props.search(this.state.caseId).then(function (isFound) {\n          if (!isFound) {\n            _this2.displayError(Error.Search.CaseIdNotFound);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"displayError\",\n    value: function displayError(errorMessage) {\n      this.setState(_objectSpread({}, this.state, {\n        searching: false,\n        errorMessage: errorMessage\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var isError = !this.state.searching && this.state.errorMessage !== \"\";\n      return React.createElement(\"div\", {\n        className: \"CaseIdSearch\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"govuk-grid-column-one-half govuk-form-group \" + (isError ? \"govuk-form-group--error\" : \"\"),\n        id: \"caseIdSearchFormGroup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, isError ? React.createElement(\"span\", {\n        id: \"caseIdSearchError\",\n        className: \"govuk-error-message\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"govuk-visually-hidden\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Error:\"), \" \", this.state.errorMessage) : React.createElement(React.Fragment, null), React.createElement(TextInputGroup, {\n        onChange: function onChange(text) {\n          return _this3.setState(_objectSpread({}, _this3.state, {\n            caseId: text\n          }));\n        },\n        id: \"caseIdInput\",\n        name: \"Case ID\",\n        format: \"govuk-!-width-one-half \" + (isError ? \"govuk-input--error\" : \"\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"govuk-button\",\n        id: \"caseIdSearchViewChildButton\",\n        \"data-module\": \"govuk-button\",\n        disabled: this.state.searching,\n        onClick: function onClick(event) {\n          return _this3.search(event);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Search\")));\n    }\n  }]);\n\n  return CaseIdSearch;\n}(React.Component);\n\nexport default CaseIdSearch;","map":{"version":3,"sources":["/Users/matthewpugh/Projects/family-context-ui/src/components/SearchPage/CaseIdSearch.tsx"],"names":["React","TextInputGroup","Error","CaseIdSearch","props","state","caseId","searching","errorMessage","event","preventDefault","setState","displayError","Search","NoCaseIdEntered","search","then","isFound","CaseIdNotFound","isError","text","Component"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,SAASC,KAAT,QAAsB,iCAAtB;;IAYMC,Y;;;AACF,wBAAYC,KAAZ,EAAsC;AAAA;;AAAA;;AAClC,sFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AAACC,MAAAA,MAAM,EAAE,EAAT;AAAaC,MAAAA,SAAS,EAAE,KAAxB;AAA+BC,MAAAA,YAAY,EAAE;AAA7C,KAAb;AAFkC;AAGrC;;;;2BAEMC,K,EAA8D;AAAA;;AACjEA,MAAAA,KAAK,CAACC,cAAN;AACA,WAAKC,QAAL,mBAAkB,KAAKN,KAAvB;AAA8BE,QAAAA,SAAS,EAAE;AAAzC;;AAEA,UAAI,KAAKF,KAAL,CAAWC,MAAX,KAAsB,EAA1B,EAA8B;AAC1B,aAAKM,YAAL,CAAkBV,KAAK,CAACW,MAAN,CAAaC,eAA/B;AACH,OAFD,MAEO;AACH,aAAKV,KAAL,CAAWW,MAAX,CAAkB,KAAKV,KAAL,CAAWC,MAA7B,EAAqCU,IAArC,CAA0C,UAAAC,OAAO,EAAI;AACjD,cAAI,CAACA,OAAL,EAAc;AACV,YAAA,MAAI,CAACL,YAAL,CAAkBV,KAAK,CAACW,MAAN,CAAaK,cAA/B;AACH;AACJ,SAJD;AAKH;AACJ;;;iCAEYV,Y,EAA4B;AACrC,WAAKG,QAAL,mBAAkB,KAAKN,KAAvB;AAA8BE,QAAAA,SAAS,EAAE,KAAzC;AAAgDC,QAAAA,YAAY,EAAZA;AAAhD;AACH;;;6BAEQ;AAAA;;AACL,UAAIW,OAAO,GAAG,CAAC,KAAKd,KAAL,CAAWE,SAAZ,IAAyB,KAAKF,KAAL,CAAWG,YAAX,KAA4B,EAAnE;AAEA,aACI;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAE,kDAAkDW,OAAO,GAAG,yBAAH,GAA+B,EAAxF,CAAhB;AAA6G,QAAA,EAAE,EAAC,uBAAhH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKA,OAAO,GACJ;AAAM,QAAA,EAAE,EAAC,mBAAT;AAA6B,QAAA,SAAS,EAAC,qBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,OAC2D,KAAKd,KAAL,CAAWG,YADtE,CADI,GAKJ,yCANR,EAQI,oBAAC,cAAD;AACI,QAAA,QAAQ,EAAE,kBAACY,IAAD;AAAA,iBAAkB,MAAI,CAACT,QAAL,mBAAkB,MAAI,CAACN,KAAvB;AAA8BC,YAAAA,MAAM,EAAEc;AAAtC,aAAlB;AAAA,SADd;AAEI,QAAA,EAAE,EAAC,aAFP;AAGI,QAAA,IAAI,EAAC,SAHT;AAII,QAAA,MAAM,EAAE,6BAA6BD,OAAO,GAAG,oBAAH,GAA0B,EAA9D,CAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARJ,EAcI;AACI,QAAA,SAAS,EAAC,cADd;AAEI,QAAA,EAAE,EAAC,6BAFP;AAGI,uBAAY,cAHhB;AAII,QAAA,QAAQ,EAAE,KAAKd,KAAL,CAAWE,SAJzB;AAKI,QAAA,OAAO,EAAE,iBAACE,KAAD;AAAA,iBAAW,MAAI,CAACM,MAAL,CAAYN,KAAZ,CAAX;AAAA,SALb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAdJ,CADJ,CADJ;AA4BH;;;;EAxDsBT,KAAK,CAACqB,S;;AA2DjC,eAAelB,YAAf","sourcesContent":["import React from \"react\";\nimport { TextInputGroup } from \"../InputGroups\";\nimport { Error } from '../../tools/ConfigurableContent';\n\ntype CaseIdSearchProps = {\n    search: (caseId: string) => Promise<boolean>\n}\n\ntype CaseIdSearchState = {\n    caseId: string,\n    searching: boolean, \n    errorMessage: string\n}\n\nclass CaseIdSearch extends React.Component<CaseIdSearchProps, CaseIdSearchState> {\n    constructor(props: CaseIdSearchProps) {\n        super(props)\n        this.state = {caseId: \"\", searching: false, errorMessage: \"\"}\n    }\n\n    search(event: React.MouseEvent<HTMLButtonElement, MouseEvent>): void {\n        event.preventDefault();\n        this.setState({...this.state, searching: true})\n\n        if (this.state.caseId === \"\") {\n            this.displayError(Error.Search.NoCaseIdEntered)\n        } else {\n            this.props.search(this.state.caseId).then(isFound => {\n                if (!isFound) {\n                    this.displayError(Error.Search.CaseIdNotFound)\n                }\n            })\n        }\n    }\n    \n    displayError(errorMessage: string): void {\n        this.setState({...this.state, searching: false, errorMessage})\n    }\n\n    render() {\n        var isError = !this.state.searching && this.state.errorMessage !== \"\"\n\n        return (\n            <div className=\"CaseIdSearch\">\n                <div className={\"govuk-grid-column-one-half govuk-form-group \" + (isError ? \"govuk-form-group--error\" : \"\")} id=\"caseIdSearchFormGroup\">\n                    {isError ? \n                        <span id=\"caseIdSearchError\" className=\"govuk-error-message\">\n                            <span className=\"govuk-visually-hidden\">Error:</span> {this.state.errorMessage}\n                        </span>\n                        :\n                        <></>\n                    }\n                    <TextInputGroup \n                        onChange={(text: string) => this.setState({...this.state, caseId: text})} \n                        id=\"caseIdInput\" \n                        name=\"Case ID\" \n                        format={\"govuk-!-width-one-half \" + (isError ? \"govuk-input--error\" : \"\")}\n                    />\n                    <button \n                        className=\"govuk-button\"\n                        id=\"caseIdSearchViewChildButton\" \n                        data-module=\"govuk-button\" \n                        disabled={this.state.searching} \n                        onClick={(event) => this.search(event)}\n                    >\n                        Search\n                </button>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CaseIdSearch;"]},"metadata":{},"sourceType":"module"}